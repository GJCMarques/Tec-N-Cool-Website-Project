// ============================================
// TRANSLATIONS - COMPLETE
// ============================================
const translations = {
    en: {
        // Navigation & Hero
        hero_title: "Where Knowledge Meets Culture",
        hero_subtitle: "Explore over 250 films, series, and books connecting academic knowledge with contemporary culture",
        explore: "Explore Now",
        
        // Categories
        categories_title: "Explore Our Collections",
        economy: "Economy & Culture",
        environment: "Environment & Culture",
        law: "Law & Culture",
        economy_desc: "Media exploring economic topics in culture",
        environment_desc: "Media exploring sustainability in culture",
        law_desc: "Media exploring legal topics in culture",
        films: "Films",
        shows: "TV Shows",
        literature: "Literature",
        
        // About Section
        about: "About the Project",
        about_intro: "The Tec'N'Cool project was born from the conviction that academic knowledge and contemporary culture should engage in a more open, accessible, and inspiring dialogue. Established in a business school, the project already brings together more than 250 films, series, and books in a freely accessible database, focused on essential topics such as economics, environmental sustainability, and law. In a constantly changing world, understanding these subjects from multiple perspectives - theoretical, practical, and cultural - is crucial for developing critical and innovative thinkers.",
        
        // Rationale
        rationale_title: "The Rationale",
        rationale_text: "The rationale behind Tec'N'Cool is based on the idea that cultural narratives uniquely capture social and economic complexities, offering insights that complement traditional academic approaches. By providing a qualified and continuously updated curation of content, the project aims to enrich students' education, support pedagogical innovation among teachers, and stimulate new lines of academic research.",
        
        // Objectives
        objectives_title: "Main Objectives",
        objective_1: "Encouraging autonomous discovery and critical reflection on the central issues of our time",
        objective_2: "Creating a bridge between theory and practice by linking academic concepts to contemporary cultural representations",
        objective_3: "Stimulating interdisciplinarity, showing how law, economics, and sustainability interact with other areas such as ethics, politics, and technology",
        
        // Benefits
        benefits_title: "Advantages for the Academic Community",
        for_students: "For Students",
        for_teachers: "For Teachers",
        for_researchers: "For Researchers",
        for_companies: "For Companies",
        
        students_detailed: "Tec'N'Cool offers students a unique opportunity to broaden their academic education in a more dynamic and creative way. By exploring selected films, series, and books, students can develop essential critical skills such as interdisciplinary analysis, interpretation of complex realities, and strategic thinking. Free access to the database encourages autonomous discovery, critical reflection, and the connection between theory and practice. Furthermore, the project helps enrich academic work, group projects, and presentations, making learning more relevant and motivating.",
        
        teachers_detailed: "For teachers, Tec'N'Cool is an innovative didactic tool that enables them to diversify teaching methodologies and make classes more interactive and appealing. The database allows the integration of contemporary cultural resources into curricular programs, fostering the connection between theoretical concepts and practical examples drawn from cinematic and literary works. The project also supports the development of activities such as debates, case studies, and critical analyses, promoting active student participation and interdisciplinarity.",
        
        researchers_detailed: "The platform offers researchers a valuable collection for analyzing how topics such as economics, sustainability, and law are represented in popular culture. Tec'N'Cool paves the way for new lines of research on the influence of cultural narratives on public perception of major global challenges. Moreover, it allows for the exploration of innovative research methodologies, combining content analysis, social impact studies, and theoretical reflection, which can result in articles, conferences, or highly relevant interdisciplinary projects.",
        
        companies_detailed: "Companies and other entities can benefit from Tec'N'Cool as a source of inspiration for staff training, social responsibility programs, or awareness initiatives. Through access to a curated selection of content that addresses crucial topics for contemporary management, organizations can stimulate critical thinking, innovation, and social awareness within their teams. The project can also be a partner in organizing cultural events, training programs, or strategic communication initiatives related to values such as sustainability, business ethics, and social innovation.",
        
        // Tags
        tag_critical: "Critical Thinking",
        tag_creativity: "Creativity",
        tag_innovation: "Innovation",
        tag_engagement: "Engagement",
        tag_research: "Research",
        tag_analysis: "Analysis",
        tag_training: "Training",
        tag_csr: "CSR",

        //Conclusion
        conclusion_text: "In summary, Tec'N'Cool aims to be a living space for the intersection of knowledge and culture, stimulating creativity, critical thinking, and the development of more conscious leaders prepared to face the challenges of a changing world."
    },
    pt: {
        // Navigation & Hero
        hero_title: "Onde o Conhecimento Encontra a Cultura",
        hero_subtitle: "Explore mais de 250 filmes, sÃ©ries e livros que conectam conhecimento acadÃ©mico com cultura contemporÃ¢nea",
        explore: "Explorar Agora",
        
        // Categories
        categories_title: "Explore as Nossas ColeÃ§Ãµes",
        economy: "Economia & Cultura",
        environment: "Ambiente & Cultura",
        law: "Direito & Cultura",
        economy_desc: "Media explorando tÃ³picos econÃ³micos na cultura",
        environment_desc: "Media explorando sustentabilidade na cultura",
        law_desc: "Media explorando tÃ³picos legais na cultura",
        films: "Filmes",
        shows: "SÃ©ries",
        literature: "Literatura",
        
        // About Section
        about: "Sobre o Projeto",
        about_intro: "O projeto Tec'N'Cool nasceu da convicÃ§Ã£o de que o conhecimento acadÃ©mico e a cultura contemporÃ¢nea devem dialogar de forma mais aberta, acessÃ­vel e inspiradora. Estabelecido numa escola de negÃ³cios, o projeto reÃºne jÃ¡ mais de 250 filmes, sÃ©ries e livros numa base de dados de acesso livre, focada em tÃ³picos essenciais como economia, sustentabilidade ambiental e direito. Num mundo em constante mudanÃ§a, compreender estes temas a partir de mÃºltiplas perspetivas - teÃ³ricas, prÃ¡ticas e culturais - Ã© crucial para formar pensadores crÃ­ticos e inovadores.",
        
        // Rationale
        rationale_title: "A FundamentaÃ§Ã£o",
        rationale_text: "A fundamentaÃ§Ã£o do Tec'N'Cool baseia-se na ideia de que as narrativas culturais capturam de forma Ãºnica as complexidades sociais e econÃ³micas, oferecendo insights que complementam as abordagens acadÃ©micas tradicionais. Ao disponibilizar uma curadoria qualificada e continuamente atualizada de conteÃºdos, o projeto visa enriquecer a formaÃ§Ã£o dos estudantes, apoiar a inovaÃ§Ã£o pedagÃ³gica dos docentes e estimular novas linhas de investigaÃ§Ã£o acadÃ©mica.",
        
        // Objectives
        objectives_title: "Objetivos Principais",
        objective_1: "Incentivar a descoberta autÃ³noma e a reflexÃ£o crÃ­tica sobre as questÃµes centrais do nosso tempo",
        objective_2: "Criar uma ponte entre teoria e prÃ¡tica, ligando conceitos acadÃ©micos a representaÃ§Ãµes culturais contemporÃ¢neas",
        objective_3: "Estimular a interdisciplinaridade, mostrando como direito, economia e sustentabilidade interagem com outras Ã¡reas como Ã©tica, polÃ­tica e tecnologia",
        
        // Benefits
        benefits_title: "Vantagens para a Comunidade AcadÃ©mica",
        for_students: "Para Estudantes",
        for_teachers: "Para Professores",
        for_researchers: "Para Investigadores",
        for_companies: "Para Empresas",
        
        students_detailed: "O Tec'N'Cool oferece aos estudantes uma oportunidade Ãºnica de ampliar a sua educaÃ§Ã£o acadÃ©mica de forma mais dinÃ¢mica e criativa. Ao explorar filmes, sÃ©ries e livros selecionados, os estudantes podem desenvolver competÃªncias crÃ­ticas essenciais como anÃ¡lise interdisciplinar, interpretaÃ§Ã£o de realidades complexas e pensamento estratÃ©gico. O acesso gratuito Ã  base de dados incentiva a descoberta autÃ³noma, a reflexÃ£o crÃ­tica e a conexÃ£o entre teoria e prÃ¡tica. AlÃ©m disso, o projeto ajuda a enriquecer trabalhos acadÃ©micos, projetos de grupo e apresentaÃ§Ãµes, tornando a aprendizagem mais relevante e motivadora.",
        
        teachers_detailed: "Para os professores, o Tec'N'Cool Ã© uma ferramenta didÃ¡tica inovadora que lhes permite diversificar as metodologias de ensino e tornar as aulas mais interativas e apelativas. A base de dados permite a integraÃ§Ã£o de recursos culturais contemporÃ¢neos nos programas curriculares, promovendo a ligaÃ§Ã£o entre conceitos teÃ³ricos e exemplos prÃ¡ticos extraÃ­dos de obras cinematogrÃ¡ficas e literÃ¡rias. O projeto tambÃ©m apoia o desenvolvimento de atividades como debates, estudos de caso e anÃ¡lises crÃ­ticas, promovendo a participaÃ§Ã£o ativa dos estudantes e a interdisciplinaridade.",
        
        researchers_detailed: "A plataforma oferece aos investigadores uma coleÃ§Ã£o valiosa para analisar como temas como economia, sustentabilidade e direito sÃ£o representados na cultura popular. O Tec'N'Cool abre caminho para novas linhas de investigaÃ§Ã£o sobre a influÃªncia das narrativas culturais na perceÃ§Ã£o pÃºblica dos grandes desafios globais. AlÃ©m disso, permite a exploraÃ§Ã£o de metodologias de investigaÃ§Ã£o inovadoras, combinando anÃ¡lise de conteÃºdo, estudos de impacto social e reflexÃ£o teÃ³rica, que podem resultar em artigos, conferÃªncias ou projetos interdisciplinares altamente relevantes.",
        
        companies_detailed: "As empresas e outras entidades podem beneficiar do Tec'N'Cool como fonte de inspiraÃ§Ã£o para formaÃ§Ã£o de pessoal, programas de responsabilidade social ou iniciativas de sensibilizaÃ§Ã£o. AtravÃ©s do acesso a uma seleÃ§Ã£o curada de conteÃºdos que abordam tÃ³picos cruciais para a gestÃ£o contemporÃ¢nea, as organizaÃ§Ãµes podem estimular o pensamento crÃ­tico, a inovaÃ§Ã£o e a consciÃªncia social nas suas equipas. O projeto pode tambÃ©m ser um parceiro na organizaÃ§Ã£o de eventos culturais, programas de formaÃ§Ã£o ou iniciativas de comunicaÃ§Ã£o estratÃ©gica relacionadas com valores como sustentabilidade, Ã©tica empresarial e inovaÃ§Ã£o social.",
        
        // Tags
        tag_critical: "Pensamento CrÃ­tico",
        tag_creativity: "Criatividade",
        tag_innovation: "InovaÃ§Ã£o",
        tag_engagement: "Envolvimento",
        tag_research: "InvestigaÃ§Ã£o",
        tag_analysis: "AnÃ¡lise",
        tag_training: "FormaÃ§Ã£o",
        tag_csr: "RSE",

        //Conclusion
        conclusion_text: "Em resumo, o Tec'N'Cool ambiciona ser um espaÃ§o vivo de cruzamento entre conhecimento e cultura, estimulando a criatividade, o pensamento crÃ­tico e o desenvolvimento de lÃ­deres mais conscientes e preparados para enfrentar os desafios de um mundo em transformaÃ§Ã£o."
    },
    fr: {
        // Navigation & Hero
        hero_title: "OÃ¹ la Connaissance Rencontre la Culture",
        hero_subtitle: "Explorez plus de 250 films, sÃ©ries et livres reliant les connaissances acadÃ©miques Ã  la culture contemporaine",
        explore: "Explorer Maintenant",
        
        // Categories
        categories_title: "Explorez Nos Collections",
        economy: "Ã‰conomie & Culture",
        environment: "Environnement & Culture",
        law: "Droit & Culture",
        economy_desc: "MÃ©dias explorant des sujets Ã©conomiques dans la culture",
        environment_desc: "MÃ©dias explorant la durabilitÃ© dans la culture",
        law_desc: "MÃ©dias explorant des sujets juridiques dans la culture",
        films: "Films",
        shows: "SÃ©ries TV",
        literature: "LittÃ©rature",
        
        // About Section
        about: "Ã€ Propos du Projet",
        about_intro: "Le projet Tec'N'Cool est nÃ© de la conviction que les connaissances acadÃ©miques et la culture contemporaine doivent dialoguer de maniÃ¨re plus ouverte, accessible et inspirante. Ã‰tabli dans une Ã©cole de commerce, le projet rassemble dÃ©jÃ  plus de 250 films, sÃ©ries et livres dans une base de donnÃ©es librement accessible, axÃ©e sur des sujets essentiels tels que l'Ã©conomie, la durabilitÃ© environnementale et le droit. Dans un monde en constante Ã©volution, comprendre ces sujets sous de multiples perspectives - thÃ©oriques, pratiques et culturelles - est crucial pour dÃ©velopper des penseurs critiques et innovants.",
        
        // Rationale
        rationale_title: "La Justification",
        rationale_text: "La justification de Tec'N'Cool repose sur l'idÃ©e que les rÃ©cits culturels capturent de maniÃ¨re unique les complexitÃ©s sociales et Ã©conomiques, offrant des perspectives qui complÃ¨tent les approches acadÃ©miques traditionnelles. En fournissant une curation qualifiÃ©e et continuellement mise Ã  jour de contenu, le projet vise Ã  enrichir l'Ã©ducation des Ã©tudiants, Ã  soutenir l'innovation pÃ©dagogique des enseignants et Ã  stimuler de nouvelles lignes de recherche acadÃ©mique.",
        
        // Objectives
        objectives_title: "Objectifs Principaux",
        objective_1: "Encourager la dÃ©couverte autonome et la rÃ©flexion critique sur les questions centrales de notre Ã©poque",
        objective_2: "CrÃ©er un pont entre thÃ©orie et pratique en reliant les concepts acadÃ©miques aux reprÃ©sentations culturelles contemporaines",
        objective_3: "Stimuler l'interdisciplinaritÃ©, montrant comment le droit, l'Ã©conomie et la durabilitÃ© interagissent avec d'autres domaines tels que l'Ã©thique, la politique et la technologie",
        
        // Benefits
        benefits_title: "Avantages pour la CommunautÃ© AcadÃ©mique",
        for_students: "Pour les Ã‰tudiants",
        for_teachers: "Pour les Enseignants",
        for_researchers: "Pour les Chercheurs",
        for_companies: "Pour les Entreprises",
        
        students_detailed: "Tec'N'Cool offre aux Ã©tudiants une occasion unique d'Ã©largir leur Ã©ducation acadÃ©mique de maniÃ¨re plus dynamique et crÃ©ative. En explorant des films, sÃ©ries et livres sÃ©lectionnÃ©s, les Ã©tudiants peuvent dÃ©velopper des compÃ©tences critiques essentielles telles que l'analyse interdisciplinaire, l'interprÃ©tation de rÃ©alitÃ©s complexes et la pensÃ©e stratÃ©gique. L'accÃ¨s gratuit Ã  la base de donnÃ©es encourage la dÃ©couverte autonome, la rÃ©flexion critique et le lien entre thÃ©orie et pratique. De plus, le projet aide Ã  enrichir les travaux acadÃ©miques, les projets de groupe et les prÃ©sentations, rendant l'apprentissage plus pertinent et motivant.",
        
        teachers_detailed: "Pour les enseignants, Tec'N'Cool est un outil didactique innovant qui leur permet de diversifier les mÃ©thodologies d'enseignement et de rendre les cours plus interactifs et attrayants. La base de donnÃ©es permet l'intÃ©gration de ressources culturelles contemporaines dans les programmes curriculaires, favorisant le lien entre les concepts thÃ©oriques et les exemples pratiques tirÃ©s d'Å“uvres cinÃ©matographiques et littÃ©raires. Le projet soutient Ã©galement le dÃ©veloppement d'activitÃ©s telles que les dÃ©bats, les Ã©tudes de cas et les analyses critiques, favorisant la participation active des Ã©tudiants et l'interdisciplinaritÃ©.",
        
        researchers_detailed: "La plateforme offre aux chercheurs une collection prÃ©cieuse pour analyser comment des sujets tels que l'Ã©conomie, la durabilitÃ© et le droit sont reprÃ©sentÃ©s dans la culture populaire. Tec'N'Cool ouvre la voie Ã  de nouvelles lignes de recherche sur l'influence des rÃ©cits culturels sur la perception publique des grands dÃ©fis mondiaux. De plus, il permet l'exploration de mÃ©thodologies de recherche innovantes, combinant l'analyse de contenu, les Ã©tudes d'impact social et la rÃ©flexion thÃ©orique, qui peuvent aboutir Ã  des articles, des confÃ©rences ou des projets interdisciplinaires hautement pertinents.",
        
        companies_detailed: "Les entreprises et autres entitÃ©s peuvent bÃ©nÃ©ficier de Tec'N'Cool comme source d'inspiration pour la formation du personnel, les programmes de responsabilitÃ© sociale ou les initiatives de sensibilisation. GrÃ¢ce Ã  l'accÃ¨s Ã  une sÃ©lection organisÃ©e de contenu qui aborde des sujets cruciaux pour la gestion contemporaine, les organisations peuvent stimuler la pensÃ©e critique, l'innovation et la conscience sociale au sein de leurs Ã©quipes. Le projet peut Ã©galement Ãªtre un partenaire dans l'organisation d'Ã©vÃ©nements culturels, de programmes de formation ou d'initiatives de communication stratÃ©gique liÃ©es Ã  des valeurs telles que la durabilitÃ©, l'Ã©thique des affaires et l'innovation sociale.",
        
        // Tags
        tag_critical: "PensÃ©e Critique",
        tag_creativity: "CrÃ©ativitÃ©",
        tag_innovation: "Innovation",
        tag_engagement: "Engagement",
        tag_research: "Recherche",
        tag_analysis: "Analyse",
        tag_training: "Formation",
        tag_csr: "RSE",

        //Conclusion
        conclusion_text: "En rÃ©sumÃ©, Tec'N'Cool vise Ã  Ãªtre un espace vivant pour l'intersection de la connaissance et de la culture, stimulant la crÃ©ativitÃ©, la pensÃ©e critique et le dÃ©veloppement de leaders plus conscients et prÃ©parÃ©s Ã  faire face aux dÃ©fis d'un monde en mutation."
    }
};

// ============================================
// LANGUAGE SWITCHING
// ============================================
let currentLanguage = 'en';

// Language configuration
const languageConfig = {
    en: {
        flag: 'https://flagcdn.com/w40/gb.png',
        name: 'English',
        code: 'EN'
    },
    pt: {
        flag: 'https://flagcdn.com/w40/pt.png',
        name: 'PortuguÃªs',
        code: 'PT'
    },
    fr: {
        flag: 'https://flagcdn.com/w40/fr.png',
        name: 'FranÃ§ais',
        code: 'FR'
    }
};

function changeLanguage(lang) {
    currentLanguage = lang;
    localStorage.setItem('language', lang);
    updatePageLanguage();
    updateDropdownButton();
    closeLanguageDropdown();
}

function updatePageLanguage() {
    const elements = document.querySelectorAll('[data-translate]');
    elements.forEach(el => {
        const key = el.getAttribute('data-translate');
        if (translations[currentLanguage] && translations[currentLanguage][key]) {
            el.textContent = translations[currentLanguage][key];
        }
    });
}

function updateDropdownButton() {
    const currentFlag = document.getElementById('currentFlag');
    const currentLang = document.getElementById('currentLang');
    
    if (currentFlag && currentLang) {
        currentFlag.src = languageConfig[currentLanguage].flag;
        currentLang.textContent = languageConfig[currentLanguage].code;
    }
}

function initLanguage() {
    const savedLang = localStorage.getItem('language') || 'en';
    currentLanguage = savedLang;
    updatePageLanguage();
    updateDropdownButton();
}

// ============================================
// LANGUAGE DROPDOWN
// ============================================
function initLanguageDropdown() {
    const dropdownBtn = document.getElementById('langDropdownBtn');
    const dropdownMenu = document.getElementById('langDropdownMenu');
    
    if (dropdownBtn && dropdownMenu) {
        dropdownBtn.addEventListener('click', toggleLanguageDropdown);
        
        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!dropdownBtn.contains(e.target) && !dropdownMenu.contains(e.target)) {
                closeLanguageDropdown();
            }
        });
    }
}

function toggleLanguageDropdown() {
    const dropdownBtn = document.getElementById('langDropdownBtn');
    const dropdownMenu = document.getElementById('langDropdownMenu');
    
    if (dropdownBtn && dropdownMenu) {
        const isExpanded = dropdownBtn.getAttribute('aria-expanded') === 'true';
        dropdownBtn.setAttribute('aria-expanded', !isExpanded);
        dropdownMenu.classList.toggle('active');
    }
}

function closeLanguageDropdown() {
    const dropdownBtn = document.getElementById('langDropdownBtn');
    const dropdownMenu = document.getElementById('langDropdownMenu');
    
    if (dropdownBtn && dropdownMenu) {
        dropdownBtn.setAttribute('aria-expanded', 'false');
        dropdownMenu.classList.remove('active');
    }
}

// ============================================
// MOBILE MENU
// ============================================
function toggleMobileMenu() {
    const navLinks = document.getElementById('navLinks');
    const menuBtn = document.getElementById('mobileMenuBtn');
    
    if (navLinks && menuBtn) {
        navLinks.classList.toggle('active');
        menuBtn.classList.toggle('active');
        const isExpanded = menuBtn.getAttribute('aria-expanded') === 'true';
        menuBtn.setAttribute('aria-expanded', !isExpanded);
    }
}

// ============================================
// HEADER SCROLL BEHAVIOR
// ============================================
let lastScroll = 0;

function handleScroll() {
    const header = document.getElementById('header');
    const currentScroll = window.pageYOffset;
    
    if (currentScroll > 100) {
        header.classList.add('scrolled');
    } else {
        header.classList.remove('scrolled');
    }
    
    if (currentScroll > lastScroll && currentScroll > 200) {
        header.classList.add('hidden');
    } else {
        header.classList.remove('hidden');
    }
    
    lastScroll = currentScroll;
    
    // Update scroll-to-top button
    updateScrollToTopButton();
}

// ============================================
// SCROLL TO TOP BUTTON
// ============================================
function initScrollToTopButton() {
    const scrollBtn = document.getElementById('scrollToTopBtn');
    
    if (scrollBtn) {
        scrollBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    }
}

function updateScrollToTopButton() {
    const scrollBtn = document.getElementById('scrollToTopBtn');
    const progressCircle = document.querySelector('.scroll-progress-ring-circle');
    
    if (!scrollBtn || !progressCircle) return;
    
    const windowHeight = document.documentElement.scrollHeight - window.innerHeight;
    const scrolled = window.pageYOffset;
    const scrollProgress = (scrolled / windowHeight) * 100;
    
    // Show button after scrolling 200px
    if (scrolled > 200) {
        scrollBtn.classList.add('visible');
    } else {
        scrollBtn.classList.remove('visible');
    }
    
    // Update progress ring - circumference = 2 * Ï€ * radius (26)
    const circumference = 2 * Math.PI * 26;
    const offset = circumference - (scrollProgress / 100) * circumference;
    progressCircle.style.strokeDashoffset = offset;
}

// ============================================
// SCROLL ANIMATIONS
// ============================================
function initScrollAnimations() {
    const observerOptions = {
        threshold: 0.15,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('aos-animate');
            }
        });
    }, observerOptions);
    
    document.querySelectorAll('[data-aos]').forEach(el => {
        const delay = el.getAttribute('data-aos-delay');
        if (delay) {
            el.style.transitionDelay = `${delay}ms`;
        }
        observer.observe(el);
    });
}

// ============================================
// PARTICLES ANIMATION
// ============================================
function createParticles() {
    const particlesContainer = document.getElementById('particlesContainer');
    if (!particlesContainer) return;
    
    const particleCount = 50;
    
    for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.style.position = 'absolute';
        particle.style.width = Math.random() * 4 + 1 + 'px';
        particle.style.height = particle.style.width;
        particle.style.background = `rgba(102, 126, 234, ${Math.random() * 0.5 + 0.2})`;
        particle.style.borderRadius = '50%';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.top = Math.random() * 100 + '%';
        particle.style.pointerEvents = 'none';
        
        const duration = Math.random() * 20 + 10;
        const delay = Math.random() * 5;
        
        particle.style.animation = `particleFloat ${duration}s ${delay}s infinite ease-in-out`;
        
        particlesContainer.appendChild(particle);
    }
    
    // Add animation to stylesheet
    if (!document.getElementById('particle-animation')) {
        const style = document.createElement('style');
        style.id = 'particle-animation';
        style.textContent = `
            @keyframes particleFloat {
                0%, 100% {
                    transform: translate(0, 0) rotate(0deg);
                    opacity: 0;
                }
                10% {
                    opacity: 1;
                }
                90% {
                    opacity: 1;
                }
                100% {
                    transform: translate(${Math.random() * 200 - 100}px, ${Math.random() * 200 - 100}px) rotate(360deg);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
    }
}

// ============================================
// CARD HOVER EFFECT - IMPROVED
// ============================================
function initCardHoverEffects() {
    const cards = document.querySelectorAll('.category-card');
    
    cards.forEach(card => {
        const hoverEffect = card.querySelector('.card-hover-effect');
        
        card.addEventListener('mousemove', (e) => {
            if (!hoverEffect) return;
            
            const rect = card.getBoundingClientRect();
            const x = ((e.clientX - rect.left) / rect.width) * 100;
            const y = ((e.clientY - rect.top) / rect.height) * 100;
            
            hoverEffect.style.setProperty('--x', x + '%');
            hoverEffect.style.setProperty('--y', y + '%');
        });
    });
}

// ============================================
// SMOOTH SCROLL FOR ANCHOR LINKS - WITH EXTRA OFFSET
// ============================================
function initSmoothScroll() {
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            const href = this.getAttribute('href');
            if (href !== '#' && href !== '') {
                e.preventDefault();
                const target = document.querySelector(href);
                if (target) {
                    // Calculate offset with EXTRA 70px padding
                    const isMobile = window.innerWidth <= 768;
                    const headerHeight = isMobile ? 80 : 100;
                    const extraPadding = 70;
                    const offsetTop = target.offsetTop - headerHeight - extraPadding;
                    
                    window.scrollTo({
                        top: offsetTop,
                        behavior: 'smooth'
                    });
                    
                    // Close mobile menu if open
                    const navLinks = document.getElementById('navLinks');
                    const menuBtn = document.getElementById('mobileMenuBtn');
                    if (navLinks && menuBtn) {
                        navLinks.classList.remove('active');
                        menuBtn.classList.remove('active');
                        menuBtn.setAttribute('aria-expanded', 'false');
                    }
                }
            }
        });
    });
}

// ============================================
// KEYBOARD NAVIGATION
// ============================================
function initKeyboardNav() {
    // ESC key closes mobile menu and language dropdown
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            const navLinks = document.getElementById('navLinks');
            const menuBtn = document.getElementById('mobileMenuBtn');
            if (navLinks && menuBtn && navLinks.classList.contains('active')) {
                navLinks.classList.remove('active');
                menuBtn.classList.remove('active');
                menuBtn.focus();
            }
            
            closeLanguageDropdown();
        }
    });
}

// ============================================
// INITIALIZE EVENT LISTENERS
// ============================================
function initEventListeners() {
    // Mobile menu
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    if (mobileMenuBtn) {
        mobileMenuBtn.addEventListener('click', toggleMobileMenu);
    }
    
    // Scroll listener
    window.addEventListener('scroll', handleScroll);
}

// ============================================
// INITIALIZE ON DOM LOADED
// ============================================
document.addEventListener('DOMContentLoaded', () => {
    // Initialize all features
    initLanguage();
    initLanguageDropdown();
    initScrollAnimations();
    initSmoothScroll();
    initKeyboardNav();
    initEventListeners();
    initCardHoverEffects();
    initScrollToTopButton();
    
    // Create particles animation
    setTimeout(createParticles, 500);
    
    // Announce page load for screen readers
    const announcement = document.createElement('div');
    announcement.setAttribute('role', 'status');
    announcement.setAttribute('aria-live', 'polite');
    announcement.className = 'sr-only';
    announcement.textContent = 'Page loaded successfully';
    document.body.appendChild(announcement);
    
    console.log('ðŸŽ‰ Tec\'N\'Cool Improved initialized successfully! âœ¨');
});